<div class="w-full mx-auto bg-white rounded-xl shadow p-6">
  <div class="flex justify-between items-start mb-2">
    <div>
      <h2 class="font-semibold text-lg leading-tight mb-0">Meus pedidos</h2>
      <p class="text-neutral-500 text-sm mt-0">Como motorista, veja suas corridas/entregas aceitas.</p>
    </div>
  </div>
  <form method="get" class="mb-4" data-controller="order-filter" data-order-filter-target="form" >
    <div class="flex flex-wrap gap-2 items-end">
      <div>
        <label class="block text-sm font-medium text-neutral-700" for="type_order">Tipo</label>
  <select name="type_order" id="type_order" class="border rounded px-2 py-1">
          <option value="">Todos</option>
          <option value="ride" <%= 'selected' if params[:type_order] == 'ride' %>>Corrida</option>
          <option value="delivery" <%= 'selected' if params[:type_order] == 'delivery' %>>Entrega</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-neutral-700" for="order_status">Status</label>
  <select name="order_status" id="order_status" class="border rounded px-2 py-1">
          <option value="">Todos</option>
          <option value="pending" <%= 'selected' if params[:order_status] == 'pending' %>>Pendente</option>
          <option value="aceito" <%= 'selected' if params[:order_status] == 'aceito' %>>Aceito</option>
          <option value="finalizado" <%= 'selected' if params[:order_status] == 'finalizado' %>>Finalizado</option>
        </select>
      </div>
      <div>
        <label class="block text-sm font-medium text-neutral-700" for="driver_name">Motorista</label>
  <input type="text" name="driver_name" id="driver_name" value="<%= params[:driver_name] %>" placeholder="Nome do motorista" class="border rounded px-2 py-1" />
      </div>
      <div>
        <button type="submit" class="ml-2 px-4 py-2 rounded bg-neutral-800 text-white hover:bg-neutral-700">Filtrar</button>
      </div>
    </div>
  </form>
  <div class="overflow-x-auto">
  <div class="overflow-x-auto">
    <table class="min-w-full bg-white rounded-xl border border-neutral-100">
      <thead>
        <tr>
          <th class="px-4 py-2 text-left font-semibold text-sm text-neutral-700">Tipo</th>
          <th class="px-4 py-2 text-left font-semibold text-sm text-neutral-700">Origem</th>
          <th class="px-4 py-2 text-left font-semibold text-sm text-neutral-700">Destino</th>
          <th class="px-4 py-2 text-left font-semibold text-sm text-neutral-700">Status</th>
          <th class="px-4 py-2 text-left font-semibold text-sm text-neutral-700">Motorista</th>
          <th class="px-4 py-2 text-left font-semibold text-sm text-neutral-700">Descrição</th>
        </tr>
      </thead>
      <tbody>
        <% if orders.present? %>
          <% orders.each do |order| %>
            <tr>
              <td class="px-4 py-2"><%= order.type_order.presence || '-' %></td>
              <td class="px-4 py-2"><%= order.departure_address.presence || '-' %></td>
              <td class="px-4 py-2"><%= order.destination_address.presence || '-' %></td>
              <td class="px-4 py-2"><%= order.order_status.presence || '-' %></td>
              <td class="px-4 py-2"><%= order.driver&.name.presence || '-' %></td>
              <td class="px-4 py-2"><%= order.description_items.presence || '-' %></td>
            </tr>
          <% end %>
        <% else %>
          <tr>
            <td colspan="7" class="text-center text-neutral-400 py-6">Nenhum pedido encontrado.</td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </div>
</div>
